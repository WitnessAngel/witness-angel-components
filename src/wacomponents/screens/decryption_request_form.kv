#:import tr wacomponents.i18n.tr
#:import strip_external_app_root_prefix wacomponents.default_settings.strip_external_app_root_prefix


<RightCheckbox@IRightBodyTouch+MDCheckbox>

<ListItemWithCheckbox@OneLineAvatarIconListItem>
    IconLeftWidget:
        icon: "key"

    RightCheckbox:



<DecryptionRequestFormScreen>:
    on_pre_enter:
        root.display_decryption_request_form()

    WAMainVerticalScrollView:

        WAVerticalPanel:

            WAToolbar:
                title: "Witness Angel"
                left_action_items: [["arrow-left", lambda x: root.go_to_previous_screen(), tr._("Back")]]
                right_action_items: [["refresh", lambda x: root.display_decryption_request_form(), tr._("Refresh")], ["home", lambda x: app.get_back_to_home_screen(), tr._("Back to home")],]

            WAElevatedBoxLayout:
                MDLabel:
                    text: tr._("Remote Decryption Request Form page")
                    padding_x: "10dp"

            WAVerticalScrollView:

                GridLayout:
                    spacing: 20
                    padding: [20, 20]
                    cols: 1
                    size_hint_y: None
                    height: self.minimum_height

                    WALabel:
                        text: tr._("Summary: ")

                    TextInput:
                        size_hint: 1, None
                        height: self.minimum_height
                        id: decryption_request_summary
                        text: tr._("No information available")

                    WALabel:
                        text: tr._("Please select at least one authenticator: ")

                    MDList:
                        id: authenticator_checklist

                    WALabel:
                        text: tr._("Please enter the reason for the decryption request: ")

                    MDTextField:
                        hint_text: tr._("Description")
                        mode: "rectangle"
                        multiline: True
                        id: description

                    RelativeLayout:
                        size_hint: 1, None
                        size: 200, 80
                        padding: [10, 10]

                        WAOperationButton:
                            id: button_decrypt
                            icon: "send-outline"
                            text: tr._("Send my decryption request")
                            pos_hint: {"center_x": .5, "center_y": .5}
                            on_press: root.submit_decryption_request()







